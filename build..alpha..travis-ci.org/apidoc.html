<div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a

        href="https://www.gitbook.com"

    >gitbook-cli (v2.3.0)</a>
</h1>
<h4>CLI to generate books and documentation using gitbook</h4>
<div class="apidocSectionDiv"><a
    href="#apidoc.tableOfContents"
    id="apidoc.tableOfContents"
><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.gitbook-cli">module gitbook-cli</a><ol>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">gitbook-cli.</span>commands</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">gitbook-cli.</span>config</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">gitbook-cli.</span>local</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">gitbook-cli.</span>registry</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">gitbook-cli.</span>tags</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.gitbook-cli.commands">module gitbook-cli.commands</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.gitbook-cli.commands.exec">
            function <span class="apidocSignatureSpan">gitbook-cli.commands.</span>exec
            <span class="apidocSignatureSpan">(commands, command, args, kwargs)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.gitbook-cli.commands.help">
            function <span class="apidocSignatureSpan">gitbook-cli.commands.</span>help
            <span class="apidocSignatureSpan">(commands)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.gitbook-cli.config">module gitbook-cli.config</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.gitbook-cli.config.init">
            function <span class="apidocSignatureSpan">gitbook-cli.config.</span>init
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.gitbook-cli.config.setRoot">
            function <span class="apidocSignatureSpan">gitbook-cli.config.</span>setRoot
            <span class="apidocSignatureSpan">(root)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">gitbook-cli.config.</span>GITBOOK_VERSION</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">gitbook-cli.config.</span>ROOT</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">gitbook-cli.config.</span>VERSIONS_ROOT</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.gitbook-cli.local">module gitbook-cli.local</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.gitbook-cli.local.link">
            function <span class="apidocSignatureSpan">gitbook-cli.local.</span>link
            <span class="apidocSignatureSpan">(name, folder)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.gitbook-cli.local.load">
            function <span class="apidocSignatureSpan">gitbook-cli.local.</span>load
            <span class="apidocSignatureSpan">(version)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.gitbook-cli.local.remove">
            function <span class="apidocSignatureSpan">gitbook-cli.local.</span>remove
            <span class="apidocSignatureSpan">(version)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.gitbook-cli.local.resolve">
            function <span class="apidocSignatureSpan">gitbook-cli.local.</span>resolve
            <span class="apidocSignatureSpan">(condition)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.gitbook-cli.local.versions">
            function <span class="apidocSignatureSpan">gitbook-cli.local.</span>versions
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.gitbook-cli.registry">module gitbook-cli.registry</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.gitbook-cli.registry.install">
            function <span class="apidocSignatureSpan">gitbook-cli.registry.</span>install
            <span class="apidocSignatureSpan">(version, forceInstall)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.gitbook-cli.registry.resolve">
            function <span class="apidocSignatureSpan">gitbook-cli.registry.</span>resolve
            <span class="apidocSignatureSpan">(version)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.gitbook-cli.registry.versions">
            function <span class="apidocSignatureSpan">gitbook-cli.registry.</span>versions
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.gitbook-cli.tags">module gitbook-cli.tags</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.gitbook-cli.tags.getTag">
            function <span class="apidocSignatureSpan">gitbook-cli.tags.</span>getTag
            <span class="apidocSignatureSpan">(version)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.gitbook-cli.tags.isTag">
            function <span class="apidocSignatureSpan">gitbook-cli.tags.</span>isTag
            <span class="apidocSignatureSpan">(version)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.gitbook-cli.tags.isValid">
            function <span class="apidocSignatureSpan">gitbook-cli.tags.</span>isValid
            <span class="apidocSignatureSpan">(version)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.gitbook-cli.tags.satisfies">
            function <span class="apidocSignatureSpan">gitbook-cli.tags.</span>satisfies
            <span class="apidocSignatureSpan">(version, condition, opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.gitbook-cli.tags.sort">
            function <span class="apidocSignatureSpan">gitbook-cli.tags.</span>sort
            <span class="apidocSignatureSpan">(a, b)</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.gitbook-cli" id="apidoc.module.gitbook-cli">module gitbook-cli</a></h1>











</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.gitbook-cli.commands" id="apidoc.module.gitbook-cli.commands">module gitbook-cli.commands</a></h1>


    <h2>
        <a href="#apidoc.element.gitbook-cli.commands.exec" id="apidoc.element.gitbook-cli.commands.exec">
        function <span class="apidocSignatureSpan">gitbook-cli.commands.</span>exec
        <span class="apidocSignatureSpan">(commands, command, args, kwargs)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function exec(commands, command, args, kwargs) {
    var cmd = _.find(commands, function(_cmd) {
        return _.first(_cmd.name.split(&#x22; &#x22;)) == command;
    });

    // Command not found
    if (!cmd) throw new Error(&#x27;Command &#x27;+command+&#x27; doesn\&#x27;t exist, run &#x22;gitbook help&#x22; to list commands.&#x27;);

    // Apply defaults
    _.each(cmd.options || [], function(option) {
        kwargs[option.name] = (kwargs[option.name] === undefined)? option.defaults : kwargs[option.name];
        if (option.values &#x26;&#x26; !_.includes(option.values, kwargs[option.name])) {
            throw new Error(&#x27;Invalid value for option &#x22;&#x27;+option.name+&#x27;&#x22;&#x27;);
        }
    });

    return cmd.exec(args, kwargs);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    _.each(cmd.options || [], function(option) {
        kwargs[option.name] = (kwargs[option.name] === undefined)? option.defaults : kwargs[option.name];
        if (option.values &#x26;&#x26; !_.includes(option.values, kwargs[option.name])) {
            throw new Error(&#x27;Invalid value for option &#x22;&#x27;+option.name+&#x27;&#x22;&#x27;);
        }
    });

    return cmd.<span class="apidocCodeKeywordSpan">exec</span>(args, kwargs);
}

module.exports = {
    help: help,
    exec: exec
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.gitbook-cli.commands.help" id="apidoc.element.gitbook-cli.commands.help">
        function <span class="apidocSignatureSpan">gitbook-cli.commands.</span>help
        <span class="apidocSignatureSpan">(commands)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function help(commands) {
    _.each(commands, function(command) {
        indent_output(1, command.name, command.description);
        _.each(command.options || [], function(option) {
            var after = [];

            if (option.defaults !== undefined) after.push(&#x22;Default is &#x22;+option.defaults);
            if (option.values) after.push(&#x22;Values are &#x22;+option.values.join(&#x22;, &#x22;));

            if (after.length &#x3e; 0) after = &#x22;(&#x22;+after.join(&#x22;; &#x22;)+&#x22;)&#x22;;
            else after = &#x22;&#x22;;

            var optname = &#x27;--&#x27;;
            if (typeof option.defaults === &#x27;boolean&#x27;) optname += &#x27;[no-]&#x27;;
            optname += option.name;
            indent_output(2, optname, option.description + &#x27; &#x27; + after);
        });
        console.log(&#x27;&#x27;);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.gitbook-cli.config" id="apidoc.module.gitbook-cli.config">module gitbook-cli.config</a></h1>


    <h2>
        <a href="#apidoc.element.gitbook-cli.config.init" id="apidoc.element.gitbook-cli.config.init">
        function <span class="apidocSignatureSpan">gitbook-cli.config.</span>init
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function init() {
    fs.mkdirsSync(CONFIG_ROOT);
    fs.mkdirsSync(VERSIONS_ROOT);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.gitbook-cli.config.setRoot" id="apidoc.element.gitbook-cli.config.setRoot">
        function <span class="apidocSignatureSpan">gitbook-cli.config.</span>setRoot
        <span class="apidocSignatureSpan">(root)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function setRoot(root) {
    CONFIG_ROOT = path.resolve(root);
    VERSIONS_ROOT = path.resolve(CONFIG_ROOT, &#x27;versions&#x27;);

    module.exports.ROOT = CONFIG_ROOT;
    module.exports.VERSIONS_ROOT = VERSIONS_ROOT;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>








</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.gitbook-cli.local" id="apidoc.module.gitbook-cli.local">module gitbook-cli.local</a></h1>


    <h2>
        <a href="#apidoc.element.gitbook-cli.local.link" id="apidoc.element.gitbook-cli.local.link">
        function <span class="apidocSignatureSpan">gitbook-cli.local.</span>link
        <span class="apidocSignatureSpan">(name, folder)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function linkVersion(name, folder) {
    if (!name) return Q.reject(new Error(&#x27;Require a name to represent this GitBook version&#x27;));
    if (!folder) return Q.reject(new Error(&#x27;Require a folder&#x27;));
    var outputFolder = versionRoot(name);

    return Q.nfcall(fs.symlink.bind(fs), folder, outputFolder);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.gitbook-cli.local.load" id="apidoc.element.gitbook-cli.local.load">
        function <span class="apidocSignatureSpan">gitbook-cli.local.</span>load
        <span class="apidocSignatureSpan">(version)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function loadVersion(version) {
    return Q(_.isString(version)? resolveVersion(version) : version)
    .then(function(resolved) {
        var gitbook;

        try {
            gitbook = require(resolved.path);
        } catch (err) {
            console.log(color.red(&#x27;Error loading version &#x27;+resolved.tag+&#x27;: &#x27;+(err.stack || err.message || err)));
            return null;
        }

        if (!gitbook) throw new Error(&#x27;GitBook Version &#x27;+resolved.tag+&#x27; is corrupted&#x27;);
        return gitbook;
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.gitbook-cli.local.remove" id="apidoc.element.gitbook-cli.local.remove">
        function <span class="apidocSignatureSpan">gitbook-cli.local.</span>remove
        <span class="apidocSignatureSpan">(version)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function removeVersion(version) {
    if (!version) return Q.reject(new Error(&#x27;No version specified&#x27;));
    var outputFolder = versionRoot(version);

    return Q.nfcall(fs.lstat.bind(fs), outputFolder)
    .then(function(stat) {
        if (stat.isSymbolicLink()) {
            return Q.nfcall(fs.unlink.bind(fs), outputFolder);
        }
        return Q.nfcall(fs.remove.bind(fs), outputFolder);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.gitbook-cli.local.resolve" id="apidoc.element.gitbook-cli.local.resolve">
        function <span class="apidocSignatureSpan">gitbook-cli.local.</span>resolve
        <span class="apidocSignatureSpan">(condition)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function resolveVersion(condition) {
    var versions = listVersions();
    var version = _.chain(versions)
        .find(function(v) {
            return tags.satisfies(v.name, condition);
        })
        .value();

    if (!version) return Q.reject(new Error(&#x27;No version match: &#x27;+condition));
    return Q(version);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var CONFIG_ROOT = process.env.GITBOOK_DIR;
if (!CONFIG_ROOT) {
    if (!userHome) {
        console.log(color.red(&#x27;HOME or GITBOOK_DIR needs to be defined&#x27;));
        process.exit(1);
    }

    CONFIG_ROOT = path.<span class="apidocCodeKeywordSpan">resolve</span>(userHome, &#x27;.gitbook&#x27;);
}
var VERSIONS_ROOT = path.resolve(CONFIG_ROOT, &#x27;versions&#x27;);


// Init and prepare configuration for gitbook-cli
// It creates the required folder
function init() {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.gitbook-cli.local.versions" id="apidoc.element.gitbook-cli.local.versions">
        function <span class="apidocSignatureSpan">gitbook-cli.local.</span>versions
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function listVersions() {
    var folders = fs.readdirSync(config.VERSIONS_ROOT);
    var latest = null;

    return _.chain(folders)
        .map(function(tag) {
            // Verison matches requirements?
            if (!tags.isValid(tag)) return null;

            // Read package.json to determine version
            var versionFolder = path.resolve(config.VERSIONS_ROOT, tag);
            var stat = fs.lstatSync(versionFolder);
            var pkg;

            try {
                pkg = require(path.resolve(versionFolder, &#x27;package.json&#x27;));
            } catch(e) {
                return null;
            }

            // Is it gitbook?
            if (pkg.name != &#x27;gitbook&#x27;) return null;

            return {
                // The name associated in the folder
                name: tag,

                // The real absolute version
                version: pkg.version,

                // Location of this version
                path: versionFolder,

                // Location if it&#x27;s a symlink
                link: stat.isSymbolicLink()? fs.readlinkSync(versionFolder) : null,

                // Type of release, latest, beta, etc ?
                tag: tags.getTag(pkg.version)
            };
        })
        .compact()

        // Sort by the version
        .sort(function(a, b) {
            return tags.sort(a.version, b.version);
        })
        .value();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.gitbook-cli.registry" id="apidoc.module.gitbook-cli.registry">module gitbook-cli.registry</a></h1>


    <h2>
        <a href="#apidoc.element.gitbook-cli.registry.install" id="apidoc.element.gitbook-cli.registry.install">
        function <span class="apidocSignatureSpan">gitbook-cli.registry.</span>install
        <span class="apidocSignatureSpan">(version, forceInstall)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function installVersion(version, forceInstall) {
    return resolveVersion(version)
    .then(function(_version) {
        version = _version;
        return Q.nfcall(tmp.dir.bind(tmp));
    })
    .spread(function(tmpDir) {
        var options = {
            name: &#x27;gitbook&#x27;,
            version: version,
            path: tmpDir,
            forceInstall: !!forceInstall,
            npmLoad: {
                loglevel: &#x27;silent&#x27;,
                loaded: false,
                prefix: tmpDir
            }
        };
        console.log(&#x27;Installing GitBook&#x27;, version);
        return Q.nfcall(npmi.bind(npmi), options).thenResolve(tmpDir);
    })
    .then(function(tmpDir) {
        var gitbookRoot = path.resolve(tmpDir, &#x27;node_modules/gitbook&#x27;);
        var packageJson = fs.readJsonSync(path.resolve(gitbookRoot, &#x27;package.json&#x27;));
        var version = packageJson.version;

        var outputFolder = path.resolve(config.VERSIONS_ROOT, version);

        if (!tags.isValid(version)) throw &#x27;Invalid GitBook version, should satisfies &#x27;+config.GITBOOK_VERSION;

        // Copy to the install folder
        return Q.nfcall(fs.copy.bind(fs), gitbookRoot, outputFolder)
        .thenResolve(version);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.gitbook-cli.registry.resolve" id="apidoc.element.gitbook-cli.registry.resolve">
        function <span class="apidocSignatureSpan">gitbook-cli.registry.</span>resolve
        <span class="apidocSignatureSpan">(version)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function resolveVersion(version) {
    var _version = version;

    return availableVersions()
    .then(function(available) {
        // Resolve if tag
        if (available.tags[version]) version = available.tags[version];

        version = _.find(available.versions, function(v) {
            return tags.satisfies(v, version, {
                // Tag is resolved from npm dist-tags
                acceptTagCondition: false
            });
        });

        // Check version
        if (!version) throw new Error(&#x27;Invalid version or tag &#x22;&#x27;+_version+&#x27;&#x22;, see available using &#x22;gitbook ls-remote&#x22;&#x27;);
        return version;
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var CONFIG_ROOT = process.env.GITBOOK_DIR;
if (!CONFIG_ROOT) {
    if (!userHome) {
        console.log(color.red(&#x27;HOME or GITBOOK_DIR needs to be defined&#x27;));
        process.exit(1);
    }

    CONFIG_ROOT = path.<span class="apidocCodeKeywordSpan">resolve</span>(userHome, &#x27;.gitbook&#x27;);
}
var VERSIONS_ROOT = path.resolve(CONFIG_ROOT, &#x27;versions&#x27;);


// Init and prepare configuration for gitbook-cli
// It creates the required folder
function init() {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.gitbook-cli.registry.versions" id="apidoc.element.gitbook-cli.registry.versions">
        function <span class="apidocSignatureSpan">gitbook-cli.registry.</span>versions
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function availableVersions() {
    return initNPM()
    .then(function() {
        return Q.nfcall(npm.commands.view, [&#x27;gitbook&#x27;, &#x27;versions&#x27;, &#x27;dist-tags&#x27;], true);
    })
    .then(function(result) {
        result = _.chain(result).values().first().value();
        result = {
            versions: _.chain(result.versions)
                .filter(function(v) {
                    return tags.isValid(v);
                })
                .sort(tags.sort)
                .value(),
            tags: _.chain(result[&#x27;dist-tags&#x27;])
                .omit(function(tagVersion, tagName) {
                    return !tags.isValid(tagVersion);
                })
                .value()
        };

        if (result.versions.length == 0) throw new Error(&#x27;No valid version on the NPM registry&#x27;);
        return result;
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.gitbook-cli.tags" id="apidoc.module.gitbook-cli.tags">module gitbook-cli.tags</a></h1>


    <h2>
        <a href="#apidoc.element.gitbook-cli.tags.getTag" id="apidoc.element.gitbook-cli.tags.getTag">
        function <span class="apidocSignatureSpan">gitbook-cli.tags.</span>getTag
        <span class="apidocSignatureSpan">(version)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getTag(version) {
    if (isTag(version)) return version;

    var v = semver.parse(version);
    return v.prerelease[0] || &#x27;latest&#x27;;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        // Location of this version
        path: versionFolder,

        // Location if it&#x27;s a symlink
        link: stat.isSymbolicLink()? fs.readlinkSync(versionFolder) : null,

        // Type of release, latest, beta, etc ?
        tag: tags.<span class="apidocCodeKeywordSpan">getTag</span>(pkg.version)
    };
})
.compact()

// Sort by the version
.sort(function(a, b) {
    return tags.sort(a.version, b.version);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.gitbook-cli.tags.isTag" id="apidoc.element.gitbook-cli.tags.isTag">
        function <span class="apidocSignatureSpan">gitbook-cli.tags.</span>isTag
        <span class="apidocSignatureSpan">(version)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function isTag(version) {
    return _.includes(ALLOWED_TAGS, version);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.gitbook-cli.tags.isValid" id="apidoc.element.gitbook-cli.tags.isValid">
        function <span class="apidocSignatureSpan">gitbook-cli.tags.</span>isValid
        <span class="apidocSignatureSpan">(version)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function isValid(version) {
    if (isTag(version)) return true;

    var versionWithoutPre = version.replace(/\-(\S+)/g, &#x27;&#x27;);

    try {
        return semver.satisfies(versionWithoutPre, config.GITBOOK_VERSION);
    } catch(e) {
        return false;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
function listVersions() {
    var folders = fs.readdirSync(config.VERSIONS_ROOT);
    var latest = null;

    return _.chain(folders)
        .map(function(tag) {
// Verison matches requirements?
if (!tags.<span class="apidocCodeKeywordSpan">isValid</span>(tag)) return null;

// Read package.json to determine version
var versionFolder = path.resolve(config.VERSIONS_ROOT, tag);
var stat = fs.lstatSync(versionFolder);
var pkg;

try {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.gitbook-cli.tags.satisfies" id="apidoc.element.gitbook-cli.tags.satisfies">
        function <span class="apidocSignatureSpan">gitbook-cli.tags.</span>satisfies
        <span class="apidocSignatureSpan">(version, condition, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function satisfies(version, condition, opts) {
    opts = _.defaults(opts || {}, {
        acceptTagCondition: true
    });

    if (isTag(version)) {
        return (condition == &#x27;*&#x27; || version == condition);
    }

    // Condition is a tag (&#x27;beta&#x27;, &#x27;latest&#x27;)
    if (opts.acceptTagCondition) {
        var tag = getTag(version);
        if (tag == condition) return true;
    }

    return semver.satisfies(version, condition);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}

// Resolve a version using a condition
function resolveVersion(condition) {
    var versions = listVersions();
    var version = _.chain(versions)
        .find(function(v) {
            return tags.<span class="apidocCodeKeywordSpan">satisfies</span>(v.name, condition);
        })
        .value();

    if (!version) return Q.reject(new Error(&#x27;No version match: &#x27;+condition));
    return Q(version);
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.gitbook-cli.tags.sort" id="apidoc.element.gitbook-cli.tags.sort">
        function <span class="apidocSignatureSpan">gitbook-cli.tags.</span>sort
        <span class="apidocSignatureSpan">(a, b)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function sortTags(a, b) {
    if (isTag(a) &#x26;&#x26; isTag(b)) {
        var indexA = ALLOWED_TAGS.indexOf(a);
        var indexB = ALLOWED_TAGS.indexOf(b);

        if (indexA &#x3e; indexB) return -1;
        if (indexB &#x3e; indexA) return 1;

        return 0;
    }
    if (isTag(a)) return -1;
    if (isTag(b)) return 1;

    if (semver.gt(a, b)) {
        return -1;
    }
    if (semver.lt(a, b)) {
        return 1;
    }
    return 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
                // Type of release, latest, beta, etc ?
                tag: tags.getTag(pkg.version)
            };
        })
        .compact()

        // Sort by the version
        .<span class="apidocCodeKeywordSpan">sort</span>(function(a, b) {
            return tags.sort(a.version, b.version);
        })
        .value();
}

// Return path to a specific version
function versionRoot(version) {
...</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
